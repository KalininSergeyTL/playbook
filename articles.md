# Технический блог
2018-08-09

Opengragh: что это такое?
-
Opengraph - это разметка, которая позволяет контролировать данные, когда пользователь делится ссылкой в социальных сетях,
а как известно социальные сети один из крупнейших источников трафика. Проверить используются ли на вашем сайте
opengraph теги вы можете размезтив ссылку на сайт у себя на странице в одной из социальных сетей (должно корректно отобразиться название, картинка, ссылка), или
воспользовавшись сервисом для проверки, например https://opengraphcheck.com.
На наших сайтах эта разметка была добавлена в начале 2018 года.

Описание open graph тегов:

- "og:locale" — локализация (язык сайта), можно использовать значение "ru_RU" по умолчанию.
- "og:type" — указывает тип страницы (статья, новость, видео, категория и т. д.), можно использовать по умолчанию "article".
- "og:title" — указывает заголовок статьи.
- "og:description" — указывает краткое описание, которое выводится при формировании превью ссылки.
- "og:url" — ссылка на страницу сайта.
- "og:image" — ссылка на картинку, которая будет отображаться в посте.
- "og:site_name" — название сайта.

Пример отображения разметки в HTML5:

```
<meta property=“og:title” content=“Пример заголовка статьи”>
<meta property=“og:site_name” content=“название сайта”>
<meta property=“og:type” content=“article”>
<meta property=“og:url” content=“http://example.com/пример-заголовка-статьи”>
<meta property=“og:image” content=“http://example.com/картинка_статьи.jpg”>
<meta property=“og:description” content=“Краткое описание статьи.”>
```

На детальных страницах на наших сайтах в качество изображения используется первое изображение из слайдеа. На общих страницах изображение самого первого элемента.

Массовое использование Open Graph разметки началось в 2017 году, и стало одним из трендов года.




2018-08-07

Использование тега ```<picture>``` для изображений
-
Изображение на главной странице гостиничного сайта должно быть привлекательно не только для людей, но и для роботов, которые зашли для индексации страниц.
Очень важно, чтобы главное изображение гостиницы было красивым и попадало в индексацию поисковиков, таких как Yandex или Google. В виду особенностей некоторых браузеров и "неповоротливости" тега ```<img>```
изображения в главном слайдере добавлялись через стили ```background-image``` тега ```<div>```, что давало пользователю корректное изображение во всех браузерах и на всех разрешениях экрана, 
однако, полностью делало невидимым для поисковиков.

Увы, но это так. Мы жертвовали seo-оптимизацией в угоду красивой картинке. 

С недавнего времени эта ситуация сдвинулась с места, благодаря использованию свойства ```object-fit: cover```.
Единственным минусом использования этого свойства является, что его никак не понимает Internet Explorer. Но и для этого случая был найден выход посредством
использования директивы CSS ```@supports```.

Старый подход никак не учитывал современные требования к адаптивности сайта. На всех типах устройства, по умолчанию, загружалось одно и то же изображение, которое должно было быть с большим разрешением.
 
Для решения этого вопроса мы стали применять связку тегов ```<picture> ``` и```<source> ``` к дополнению к простому ```<img>```. Дело в том, что когда пользователь
заходит на страницу с мобильного устройства или планшета ему нет необходимости подгружать ту же самую картинку по размерам, что и на основной версии сайта. Тем самым мы экономим пользователю трафик, и ускоряем загрузку сайта на смартфонах и планшетах.

Техническая реализация выглядит следующим образом:

HTML

```
<picture class="picture">
    <source media="(min-width: 1200px)" srcset="/upload/1920_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg">
    <source media="(min-width: 992px)" srcset="/upload/1200_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg">
    <source media="(min-width: 768px)" srcset="/upload/991_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg">
    <source media="(min-width: 481px)" srcset="/upload/767_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg">
    <source media="(min-width: 320px)" srcset="/upload/480_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg">
    <img class="picture__image" src="/upload/resize_cache/1920_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg" srcset="/upload/resize_cache/iblock/fc6/1920_880_2/fc6e0ab8e9c7280624fa8628f63e5e74.jpg" alt="«Москва»">
</picture>
```

SCSS

```
.picture {
  display: block;
  width: 100%;
  height: 100%;

  &__image {
    width: 100%;
    height: auto;
    position: relative;
    left: 50%;
    top: 50%;
    transform: translateX(-50%) translateY(-50%);

    @media (max-width: 1200px) {
      height: 100%;
      width: auto;
    }
  }

  @supports (object-fit: cover) {
    &__image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: initial;
      left: initial;
      top: initial;
      transform: translateX(0) translateY(0);
    }
  }
}
```
